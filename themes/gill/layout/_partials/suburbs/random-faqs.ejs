<!-- prettier-ignore -->
<% 
// Get FAQ data from the appropriate YAML file based on category
var faqData = site.data[category];
var faqs = faqData && faqData.faqs ? faqData.faqs : [];

// Shuffle the FAQs to show them in random order
function shuffleArray(array) {
	var currentIndex = array.length, temporaryValue, randomIndex;
	while (0 !== currentIndex) {
		randomIndex = Math.floor(Math.random() * currentIndex);
		currentIndex -= 1;
		temporaryValue = array[currentIndex];
		array[currentIndex] = array[randomIndex];
		array[randomIndex] = temporaryValue;
	}
	return array;
}

var shuffledFaqs = shuffleArray([...faqs]).slice(0, 6);
%>

<%- include('../faqs', { 
	title: 'Frequently Asked Questions for ' + suburb,
	faqs: shuffledFaqs 
}) %>
