<section class="bg-white" id="social-proof">
	<div class="px-4 py-8 mx-auto max-w-screen-xl sm:py-16 lg:px-6 xl:px-0">
		<div class="mx-auto mb-8 max-w-screen-md text-center md:mb-16">
			<h2
				class="text-3xl tracking-tight font-extrabold text-gray-900 md:text-4xl"
			>
				Gill Juergens Photography in
				<span
					class="font-[RetroSignature] transform -rotate-5 block text-7xl md:text-9xl font-normal -mb-4 sm:mb-0"
					>Numbers</span
				>
			</h2>
		</div>
		<div
			class="mb-4 space-y-4 md:grid md:grid-cols-3 md:gap-4 xl:gap-16 md:space-y-0 md:mb-8"
		>
			<div
				class="flex justify-center items-center p-6 text-center bg-gray-100 rounded xl:p-12"
			>
				<div class="text-gray-900">
					<p id="years" class="mb-2 text-4xl font-extrabold md:text-5xl">10</p>
					<h3 class="mb-2 text-xl font-semibold">Years of experience</h3>
					<p class="font-light text-gray-500 dark:text-gray-400">
						Established in 2014, Gill Juergens Photography has been capturing
						timeless moments and creating beautiful memories for families across
						Melbourne.
					</p>
				</div>
			</div>
			<div
				class="flex justify-center items-center p-6 text-center bg-gray-100 rounded xl:p-12"
			>
				<div class="text-gray-900">
					<p id="clients" class="mb-2 text-4xl font-extrabold md:text-5xl">
						500+
					</p>
					<h3 class="mb-2 text-xl font-semibold">Happy families</h3>
					<p class="font-light text-gray-500 dark:text-gray-400">
						We collaborate with our clients from start to finish, building
						strong relationships so we can understand your family as well as you
						do.
					</p>
				</div>
			</div>
			<div
				class="flex justify-center items-center p-6 text-center bg-gray-100 rounded xl:p-12"
			>
				<div class="text-gray-900">
					<p id="projects" class="mb-2 text-4xl font-extrabold md:text-5xl">
						1000+
					</p>
					<h3 class="mb-2 text-xl font-semibold">Photography sessions</h3>
					<p class="font-light text-gray-500 dark:text-gray-400">
						From family portraits to wedding celebrations and newborn sessions,
						we've captured countless precious moments for families.
					</p>
				</div>
			</div>
		</div>
	</div>
</section>

<script>
	document.addEventListener("DOMContentLoaded", () => {
		let hasAnimated = false;

		function counter(id, start, end, duration) {
			let obj = document.getElementById(id),
				current = start,
				range = end - start,
				increment = end > start ? 1 : -1,
				step = Math.abs(Math.floor(duration / range)),
				timer = setInterval(() => {
					current += increment;
					obj.textContent = current + "+";
					if (current == end) {
						clearInterval(timer);
					}
				}, step);
		}

		function startCounters() {
			if (hasAnimated) return;
			hasAnimated = true;

			counter("years", 0, 10, 1500);
			counter("clients", 0, 500, 2000);
			counter("projects", 0, 1000, 2500);
		}

		// Create intersection observer
		const observer = new IntersectionObserver(
			(entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						startCounters();
						observer.unobserve(entry.target); // Stop observing once triggered
					}
				});
			},
			{
				threshold: 0.7, // Trigger when 70% of the section is visible
			},
		);

		// Observe the social proof section
		const socialProofSection = document.querySelector("#social-proof");
		if (socialProofSection) {
			observer.observe(socialProofSection);
		}
	});
</script>
